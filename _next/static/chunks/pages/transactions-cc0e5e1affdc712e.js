(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[673],{28:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/transactions",function(){return c(2050)}])},2050:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return w}});var d=c(5893),e=c(6089),f=c.n(e),g=c(7294),h=c(9008),i=c.n(h),j=c(7730),k=c(7814),l=c(1436),m=c(271),n=c(2036),o=c(8417),p=c(7901),q=c(570),r=function(a){if(a.lastPage<=0)return null;var b=a.lastPage>1&&1,c=a.lastPage;return(0,d.jsxs)("div",{className:"jsx-33e1b5b2f6220cab paginator",children:[(0,d.jsx)(q.Z,{fullRadius:!0,secondary:!0,onClick:function(){return a.setActive(a.active-1)},disabled:!b||a.active===b,children:(0,d.jsx)(k.G,{icon:l.EyR})}),b&&a.active!==b&&(0,d.jsx)(q.Z,{fullRadius:!0,secondary:!0,onClick:function(){return a.setActive(b)},children:b}),b&&a.active-b>1&&(0,d.jsx)("span",{className:"jsx-33e1b5b2f6220cab",children:"..."}),(0,d.jsxs)(q.Z,{fullRadius:!0,children:["Page ",a.active]}),c&&c-a.active>1&&(0,d.jsx)("span",{className:"jsx-33e1b5b2f6220cab",children:"..."}),c&&a.active!==c&&(0,d.jsx)(q.Z,{fullRadius:!0,secondary:!0,onClick:function(){return a.setActive(c)},children:c}),(0,d.jsx)(q.Z,{fullRadius:!0,secondary:!0,onClick:function(){return a.setActive(a.active+1)},disabled:a.active===c,children:(0,d.jsx)(k.G,{icon:l.yOZ})}),(0,d.jsx)(f(),{id:"33e1b5b2f6220cab",children:'.paginator.jsx-33e1b5b2f6220cab{width:auto;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-top:20px}.paginator.jsx-33e1b5b2f6220cab span.jsx-33e1b5b2f6220cab{letter-spacing:"1px";font-family:"Roboto";font-weight:700;margin:0 4px}'})]})},s=c(1163),t=c.n(s),u=c(4276),v=c(2747),w=function(){var a=(0,n.T)(),b=(0,n.C)(function(a){return a.auth}),c=(0,n.C)(function(a){return a.labels.labels}),e=(0,n.C)(function(a){return a.wallets.wallets}),h=(0,g.useRef)(null),s=(0,g.useState)([]),w=s[0],x=s[1],y=(0,g.useState)([]),z=y[0],A=y[1],B=(0,g.useState)({current:1,total:1}),C=B[0],D=B[1],E=(0,g.useState)([]),F=E[0],G=E[1],H=function(a){var b=w.indexOf(a),c=w.slice();b> -1?c.splice(b,1):c.push(a),x(c)},I=function(a){var b=z.indexOf(a),c=z.slice();b> -1?c.splice(b,1):c.push(a),A(c)},J=function(c){for(var d=new URLSearchParams(window.location.search),e=0;e<Object.keys(c).length;e++){var f=Object.keys(c)[e];d.set(f,c[f])}var g=new URL(window.location.href);g.search=d.toString(),console.log(c,g.toString()),window.history.pushState(null,"",g.toString()),a((0,p.tF)());var h=new URLSearchParams(c).toString();fetch(o.Sg+o.ZP.TRANSACTIONS.SEARCH+"?"+h,{headers:{Authorization:"Token "+b.token}}).then(function(b){if(401!==b.status)return b.json();t().push("/login"),a((0,v.q)("Please login before accessing this page"))}).then(function(b){a((0,p.Md)()),D(b.page),G(b.trxns)}).catch(function(b){a((0,p.Md)()),console.error(b)})},K=function(a,b){var c,d,e,f={labels:w.toString(),wallets:z.toString(),page:(b||C.current).toString()};(null===(c=h.current)|| void 0===c?void 0:c.value)!==void 0&&(null===(d=h.current)|| void 0===d?void 0:d.value)!==""&&(f.search=null===(e=h.current)|| void 0===e?void 0:e.value),J(f)};return(0,g.useEffect)(function(){if(!b.token){t().push("/login"),a((0,v.q)("Please login before accessing this page"));return}var c=new URLSearchParams(window.location.search),d={};if(c.get("search")&&h.current&&(h.current.value=c.get("search")||"",d.search=c.get("search")||""),c.get("labels"))try{var e,f,g=(null===(e=c.get("labels"))|| void 0===e?void 0:e.split(","))||[];for(f=0;f<(null==g?void 0:g.length);f++)g[f]=Number(g[f]);x(g),d.labels=c.get("labels")||""}catch(i){console.error(i)}if(c.get("wallets"))try{var j,f,k=(null===(j=c.get("wallets"))|| void 0===j?void 0:j.split(","))||[];for(f=0;f<(null==k?void 0:k.length);f++)k[f]=Number(k[f]);A(k),d.wallets=c.get("wallets")||""}catch(l){console.error(l)}J(d)},[a,b.token]),b.user_data&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(i(),{children:[(0,d.jsx)("title",{className:"jsx-f3782c4c4fa99cba",children:"Transaction History"}),(0,d.jsx)("meta",{name:"description",content:"Generated by create next app",className:"jsx-f3782c4c4fa99cba"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico",className:"jsx-f3782c4c4fa99cba"})]}),(0,d.jsxs)("main",{className:"jsx-f3782c4c4fa99cba",children:[(0,d.jsx)("div",{className:"jsx-f3782c4c4fa99cba mainWrapper",children:(0,d.jsx)("h1",{className:"jsx-f3782c4c4fa99cba",children:"Transaction History"})}),(0,d.jsxs)("div",{className:"jsx-f3782c4c4fa99cba section",children:[(0,d.jsxs)("div",{className:"jsx-f3782c4c4fa99cba filters",children:[(0,d.jsxs)("div",{className:"jsx-f3782c4c4fa99cba search",children:[(0,d.jsx)(k.G,{icon:l.wn1,strokeWidth:1}),(0,d.jsx)("input",{placeholder:"Search...",ref:h,className:"jsx-f3782c4c4fa99cba"})]}),(0,d.jsx)("h4",{className:"jsx-f3782c4c4fa99cba",children:"Filter by labels"}),(0,d.jsx)("div",{className:"jsx-f3782c4c4fa99cba horizontalScroll",children:0===c.length?(0,d.jsxs)("div",{className:"jsx-f3782c4c4fa99cba no-data",children:[(0,d.jsx)("span",{className:"jsx-f3782c4c4fa99cba",children:"Seems like you don't have any labels yet."}),(0,d.jsx)(q.Z,{startIcon:l.XSk,small:!0,secondary:!0,onClick:function(){return t().push("/labels")},children:"Create one"})]}):c.map(function(a){return(0,d.jsx)(j.Z,{onClick:function(){H(a.id)},selected:w.indexOf(a.id)> -1,color:a.color,children:a.name},a.id)})}),(0,d.jsx)("h4",{className:"jsx-f3782c4c4fa99cba",children:"Filter by wallet"}),(0,d.jsx)("div",{className:"jsx-f3782c4c4fa99cba horizontalScroll",children:0===e.length?(0,d.jsxs)("div",{className:"jsx-f3782c4c4fa99cba no-data",children:[(0,d.jsx)("span",{className:"jsx-f3782c4c4fa99cba",children:"Seems like you don't have any wallets yet."}),(0,d.jsx)(q.Z,{startIcon:l.XSk,small:!0,secondary:!0,onClick:function(){return t().push("/wallets")},children:"Create one"})]}):e.map(function(a){return(0,d.jsx)(j.Z,{onClick:function(){I(a.id)},selected:z.indexOf(a.id)> -1,children:a.name},a.id)})}),(0,d.jsx)("div",{className:"jsx-f3782c4c4fa99cba applyFilters",children:(0,d.jsx)(q.Z,{onClick:K,children:"search"})})]}),(0,d.jsxs)("div",{className:"jsx-f3782c4c4fa99cba trxns cardGrid",children:[0!==F.length?(0,d.jsx)(d.Fragment,{children:F.map(function(a){return(0,d.jsx)(m.Z,{data:a,fullWidth:!0,mx:0},a.id)})}):(0,d.jsx)("i",{className:"jsx-f3782c4c4fa99cba",children:"No transactions found"}),(0,d.jsx)(r,{setActive:function(a){return K(null,a)},lastPage:C.total,active:C.current})]})]})]}),(0,d.jsx)("div",{style:{width:"100vw",height:"72px"},className:"jsx-f3782c4c4fa99cba"}),(0,d.jsx)(u.Z,{}),(0,d.jsx)(f(),{id:"f3782c4c4fa99cba",children:"main.jsx-f3782c4c4fa99cba{padding:12px}h1.jsx-f3782c4c4fa99cba{font-weight:700;color:white;font-size:4rem;text-align:center}.cardGrid.jsx-f3782c4c4fa99cba h4.jsx-f3782c4c4fa99cba{margin:8px 16px}.mainWrapper.jsx-f3782c4c4fa99cba{width:100%;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.mainWrapper.jsx-f3782c4c4fa99cba h1.jsx-f3782c4c4fa99cba{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.search.jsx-f3782c4c4fa99cba{width:100%;padding:0px 16px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;background:rgba(255,255,255,.05);margin-top:8px}.search.jsx-f3782c4c4fa99cba input.jsx-f3782c4c4fa99cba{margin-left:8px;padding:12px 8px;background:transparent;border:none;width:80%;color:#fff8}.search.jsx-f3782c4c4fa99cba input.jsx-f3782c4c4fa99cba:hover,.search.jsx-f3782c4c4fa99cba input.jsx-f3782c4c4fa99cba:focus{outline:none}.search.jsx-f3782c4c4fa99cba svg.jsx-f3782c4c4fa99cba{stroke-width:1px}.cardGrid.jsx-f3782c4c4fa99cba{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;max-width:724px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-left:12px}.section.jsx-f3782c4c4fa99cba{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.filters.jsx-f3782c4c4fa99cba{padding:12px 24px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;background:rgba(255,255,255,.05);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;-webkit-box-flex:0;-webkit-flex-grow:0;-moz-box-flex:0;-ms-flex-positive:0;flex-grow:0;margin-top:8px;width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:400px}.filters.jsx-f3782c4c4fa99cba h4.jsx-f3782c4c4fa99cba{text-transform:uppercase;font-weight:700;font-size:12px}.applyFilters.jsx-f3782c4c4fa99cba{width:100%;margin-top:16px}.applyFilters.jsx-f3782c4c4fa99cba>button{width:100%}.no-data.jsx-f3782c4c4fa99cba{width:100%;height:100px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;text-align:center;color:rgba(228,228,228,.8)}@media(max-width:500px){.mainWrapper.jsx-f3782c4c4fa99cba{margin-top:32px}h1.jsx-f3782c4c4fa99cba{font-size:3rem}}@media(max-width:950px){.section.jsx-f3782c4c4fa99cba{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.filters.jsx-f3782c4c4fa99cba{max-width:650px;width:650px;margin:8px}.cardGrid.jsx-f3782c4c4fa99cba{margin-left:0px}}@media(max-width:700px){.filters.jsx-f3782c4c4fa99cba{min-width:auto;width:-webkit-calc(100% - 24px);width:-moz-calc(100% - 24px);width:calc(100% - 24px)}}"})]})}}},function(a){a.O(0,[766,927,954,774,888,179],function(){var b;return a(a.s=28)}),_N_E=a.O()}])